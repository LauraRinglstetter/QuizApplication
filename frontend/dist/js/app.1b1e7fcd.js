(function(){"use strict";var e={2120:function(e,t,s){s.d(t,{s:function(){return qt}});var o=s(5130),r=s(6768),a=s(4232);const n={class:"nav"},i={class:"main"};function l(e,t,s,o,l,u){const c=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",{class:(0,a.C4)(["app",u.backgroundClass])},[(0,r.Lk)("nav",n,[t[2]||(t[2]=(0,r.Lk)("p",null,[(0,r.eW)("Skillmaster "),(0,r.Lk)("span",null,"Skill up your life")],-1)),l.isLoggedIn?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>u.goToProfile&&u.goToProfile(...e))},"Profil üë§")):(0,r.Q3)("",!0),l.isLoggedIn?((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>u.logout&&u.logout(...e))},"Logout")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",i,[(0,r.bF)(c)])],2)}s(4114);var u=s(4373),c={name:"App",data(){return{message:"",isLoggedIn:!1}},computed:{backgroundClass(){const e=this.$route.name;return"login"===e||"register"===e?"background":"no-background"}},methods:{checkLoginStatus(){this.isLoggedIn=!!sessionStorage.getItem("token")},async getDataFromBackend(){try{const e=await u.A.get("https://quizapplication-production-ff18.up.railway.app/api/test");this.message=e.data.message}catch(e){console.error("Fehler beim Abrufen der Daten:",e)}},logout(){sessionStorage.removeItem("token"),this.isLoggedIn=!1,this.$router.push("/")},goToProfile(){this.$router.push("/profile")}},watch:{$route(){this.checkLoginStatus()}},mounted(){this.checkLoginStatus()}},d=s(1241);const p=(0,d.A)(c,[["render",l]]);var g=p,h=s(1387),m=s.p+"img/background-image.8c7309f8.jpg";const v={class:"dashboard"},k={class:"hero"},y={id:"intro"},b={key:0},f={class:"categories-dashboard"},C={class:"quiz-general"},w={class:"buttons"},L={class:"cooperative"},E={class:"extend-questions"},F={class:"best-list"};function Q(e,t,s,o,n,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",v,[(0,r.Lk)("div",k,[t[5]||(t[5]=(0,r.Lk)("img",{src:m},null,-1)),(0,r.Lk)("div",y,[t[3]||(t[3]=(0,r.Lk)("h1",null,"Skillmaster Dashboard",-1)),n.username?((0,r.uX)(),(0,r.CE)("h2",b,"Willkommen zur√ºck, "+(0,a.v_)(n.username)+"!",1)):(0,r.Q3)("",!0),t[4]||(t[4]=(0,r.Lk)("p",null," Hier kannst du ein Quiz starten, die Fragenkataloge erweitern, gemeinsam mit anderen Spielern lernen und vieles mehr!",-1))])]),(0,r.Lk)("div",f,[(0,r.Lk)("div",C,[t[7]||(t[7]=(0,r.Lk)("p",null," Erweitere deine Kenntnisse und starte ein Quiz!",-1)),(0,r.Lk)("div",w,[(0,r.bF)(l,{to:"/categories",class:"quiz"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("Los geht's")]))),_:1})])]),(0,r.Lk)("div",L,[t[8]||(t[8]=(0,r.Lk)("p",null," Du m√∂chtest gemeinsam mit anderen Studierenden lernen?",-1)),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.goToMultiplayerPage&&i.goToMultiplayerPage(...e))}," Starte ein kooperatives Spiel")]),(0,r.Lk)("div",E,[t[9]||(t[9]=(0,r.Lk)("p",null," M√∂chtest du eure gemeinsamen Lerninhalte erweitern und eigene Fragen hinzuf√ºgen?",-1)),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.goToQuestionsPage&&i.goToQuestionsPage(...e))}," Erweitere den Fragenkatalog ")]),(0,r.Lk)("div",F,[t[10]||(t[10]=(0,r.Lk)("p",null," Hier findest du die aktuelle Bestenliste der IU",-1)),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.goToLeaderboard&&i.goToLeaderboard(...e))}," Zum Leaderboard ")])])])}var q=s(5068),z={name:"HomePage",data(){return{username:""}},mounted(){this.getUserData()},methods:{getUserData(){const e=sessionStorage.getItem("token");if(e)try{const t=(0,q.s)(e);this.username=t.username}catch(t){console.error("Fehler beim Decodieren des Tokens:",t)}},goToQuiz(e){this.$router.push({name:"quiz",query:{category:e}})},goToLeaderboard(){this.$router.push("/leaderboard")},goToQuestionsPage(){this.$router.push("/questions")},goToMultiplayerPage(){this.$router.push("/multiplayer")}}};const A=(0,d.A)(z,[["render",Q],["__scopeId","data-v-78416440"]]);var _=A;const X={class:"container"},S={class:"registerBox"},K={key:0},I={class:"register-text"};function T(e,t,s,n,i,l){const u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",X,[(0,r.Lk)("div",S,[t[6]||(t[6]=(0,r.Lk)("h1",null,"Registrieren",-1)),(0,r.Lk)("form",null,[(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e)},null,512),[[o.Jo,i.username]]),(0,r.bo)((0,r.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e)},null,512),[[o.Jo,i.password]]),(0,r.bo)((0,r.Lk)("input",{type:"password",placeholder:"Password (repeat)","onUpdate:modelValue":t[2]||(t[2]=e=>i.password_repeat=e)},null,512),[[o.Jo,i.password_repeat]]),(0,r.Lk)("input",{type:"button",onClick:t[3]||(t[3]=(...e)=>l.signUp&&l.signUp(...e)),value:"Registrieren"})]),i.msg?((0,r.uX)(),(0,r.CE)("p",K,(0,a.v_)(i.msg),1)):(0,r.Q3)("",!0),(0,r.Lk)("p",I,[t[5]||(t[5]=(0,r.eW)(" Du hast bereits ein Konto? ")),(0,r.bF)(u,{to:"/"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Hier anmelden")]))),_:1})])])])}const M="https://quizapplication-production-ff18.up.railway.app/api";var P={async login(e){try{const t=await u.A.post(M+"/",e);return t.data}catch(t){throw console.error("Login-Fehler:",t),t.response&&console.error("Fehler-Response:",t.response.data),t.response?t.response.data:t.message}},async signUp(e){try{const t=await u.A.post(M+"/register/",e);return t.data}catch(t){throw console.error("Registrierungs-Fehler:",t),t.response?t.response.data:t.message}},async getSecretContent(){try{const e=await u.A.get(M+"/start/");return e.data}catch(e){throw console.error("Fehler beim Abrufen von geheimen Inhalten:",e),e.response?e.response.data:e.message}}},R={data(){return{username:"",password:"",password_repeat:"",msg:""}},methods:{async signUp(){if(this.password===this.password_repeat)if(this.password.length<6)this.msg="Das Passwort muss mindestens 6 Zeichen haben!";else try{const e={username:this.username,password:this.password,password_repeat:this.password_repeat},t=await P.signUp(e);this.msg=t.msg,this.$router.push("/")}catch(e){this.msg=e}else this.msg="Passw√∂rter stimmen nicht √ºberein"}}};const W=(0,d.A)(R,[["render",T],["__scopeId","data-v-971196d2"]]);var x=W;const U={class:"container"},$={class:"loginBox"},D={key:0},O={class:"register-text"};function N(e,t,s,n,i,l){const u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",U,[(0,r.Lk)("div",$,[t[5]||(t[5]=(0,r.Lk)("h1",null,"Login",-1)),(0,r.Lk)("form",null,[(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e)},null,512),[[o.Jo,i.username]]),(0,r.bo)((0,r.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e)},null,512),[[o.Jo,i.password]]),(0,r.Lk)("input",{type:"button",onClick:t[2]||(t[2]=(...e)=>l.login&&l.login(...e)),value:"Anmelden"})]),i.msg?((0,r.uX)(),(0,r.CE)("p",D,(0,a.v_)(i.msg),1)):(0,r.Q3)("",!0),(0,r.Lk)("p",O,[t[4]||(t[4]=(0,r.eW)(" Noch kein Konto? ")),(0,r.bF)(u,{to:"/register"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("Hier registrieren")]))),_:1})])])])}var j={name:"LoginPage",data(){return{username:"",password:"",msg:""}},methods:{async login(){try{const e={username:this.username,password:this.password},t=await P.login(e);this.msg=t.message,sessionStorage.setItem("token",t.token),sessionStorage.setItem("username",this.username),this.$router.push("/home")}catch(e){console.error("Login-Fehler:",e),e.response&&e.response.data?(console.error("Fehler-Response:",e.response.data),this.msg=e.response.data):e.message?this.msg=e.message:this.msg="Es gab ein Problem mit dem Login. Bitte versuche es sp√§ter erneut."}}}};const B=(0,d.A)(j,[["render",N]]);var V=B,J=(s(1454),s(144));const H={class:"app"},Z={key:0,class:"quiz"},G={class:"timer"},Y={class:"quiz-info"},ee={class:"question"},te={class:"score"},se={class:"options"},oe=["name","value","disabled"],re=["disabled"],ae={key:1},ne={class:"quiz-end"},ie={key:0},le={key:1};var ue={__name:"QuizPage",setup(e){const t=(0,h.lq)(),s=(0,h.rd)();let n=(0,J.KR)(90);const i=(0,J.KR)(!1);let l=null;const c=()=>{l=setInterval((()=>{n.value>0?n.value--:(clearInterval(l),g())}),1e3)},d=()=>{clearInterval(l)},p=(0,r.EW)((()=>{const e=Math.floor(n.value/60),t=n.value%60;return`${e}:${t.toString().padStart(2,"0")}`})),g=()=>{y.value=!0,i.value=!0,w(),d()},m=()=>{s.push("/home"),d()},v=t.query.category,k=(0,J.KR)([]),y=(0,J.KR)(!1),b=(0,J.KR)(0),f=async e=>{try{const t=await u.A.get(`https://quizapplication-production-ff18.up.railway.app/api/questions?category=${e}`);k.value=t.data.map((e=>({question:e.question,options:JSON.parse(e.options),answer:e.answer,selected:null})))}catch(t){console.error("Fehler beim Abrufen der Fragen:",t)}};(0,r.sV)((()=>{f(v),c()}));const C=(0,r.EW)((()=>{let e=0;return k.value.map((t=>{t.selected==t.answer&&e++})),e})),w=async()=>{try{const e=sessionStorage.getItem("username");if(!e)return void console.error("Kein Benutzername gefunden");await u.A.put("https://quizapplication-production-ff18.up.railway.app/api/leaderboard",{username:e,score:C.value})}catch(e){console.error("Fehler beim Speichern des Punktestands:",e)}},L=(0,r.EW)((()=>{let e=k.value[b.value];return e?(e.index=b.value,e):{}})),E=e=>{k.value[b.value].selected=e.target.value},F=()=>{b.value<k.value.length-1?b.value++:(y.value=!0,w())};return(e,t)=>{const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("main",H,[t[2]||(t[2]=(0,r.Lk)("h1",null,"Multiple-choice Quiz",-1)),y.value?((0,r.uX)(),(0,r.CE)("section",ae,[(0,r.Lk)("div",ne,[i.value?((0,r.uX)(),(0,r.CE)("h2",ie,"Oops, die Zeit ist abgelaufen!")):((0,r.uX)(),(0,r.CE)("h2",le,"Herzlichen Gl√ºckwunsch, du hast das Quiz abgeschlossen!")),(0,r.Lk)("h3",null,"Dein Punktestand: "+(0,a.v_)(C.value)+" / "+(0,a.v_)(k.value.length),1)]),(0,r.Lk)("button",{onClick:m},"Zur√ºck zur Startseite")])):((0,r.uX)(),(0,r.CE)("section",Z,[(0,r.Lk)("div",G,(0,a.v_)(p.value),1),(0,r.Lk)("div",Y,[(0,r.Lk)("span",ee,(0,a.v_)(L.value.question),1),(0,r.Lk)("span",te," Score: "+(0,a.v_)(C.value)+" / "+(0,a.v_)(k.value.length),1)]),(0,r.Lk)("div",se,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(L.value.options,((e,s)=>((0,r.uX)(),(0,r.CE)("label",{key:s,class:(0,a.C4)(`option ${L.value.selected==s?s==L.value.answer?"correct":"wrong":""}${null!==L.value.selected&&s!==L.value.selected?" disabled":""}${s===L.value.answer&&null!==L.value.selected?" correct":""}\n            `)},[(0,r.bo)((0,r.Lk)("input",{type:"radio",name:L.value.index,value:s,"onUpdate:modelValue":t[0]||(t[0]=e=>L.value.selected=e),disabled:null!==L.value.selected,onChange:E},null,40,oe),[[o.XL,L.value.selected]]),(0,r.Lk)("span",null,(0,a.v_)(e),1)],2)))),128))]),(0,r.Lk)("button",{onClick:F,disabled:null===L.value.selected},(0,a.v_)(L.value.index==k.value.length-1?"Abschlie√üen":"N√§chste Frage"),9,re),(0,r.bF)(s,{to:"/categories",class:"stop-quiz"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)("Quiz abbrechen")]))),_:1})]))])}}};const ce=(0,d.A)(ue,[["__scopeId","data-v-02b7f57c"]]);var de=ce;function pe(e,t,s,o,n,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(l,{to:"/home",class:"exit"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)("Zur√ºck zum Dashboard")]))),_:1}),t[2]||(t[2]=(0,r.Lk)("h1",null,"Leaderboard",-1)),(0,r.Lk)("table",null,[t[1]||(t[1]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Platz"),(0,r.Lk)("th",null,"Benutzername"),(0,r.Lk)("th",null,"Punktestand")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.leaderboard,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,a.v_)(t+1),1),(0,r.Lk)("td",null,(0,a.v_)(e.username),1),(0,r.Lk)("td",null,(0,a.v_)(e.score),1)])))),128))])])])}var ge={name:"LeaderboardPage",data(){return{leaderboard:[]}},created(){fetch("https://quizapplication-production-ff18.up.railway.app/api/leaderboard").then((e=>e.json())).then((e=>{this.leaderboard=e})).catch((e=>console.error("Fehler beim Laden der Bestenliste:",e)))}};const he=(0,d.A)(ge,[["render",pe]]);var me=he;function ve(e,t,s,o,n,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(l,{to:"/home",class:"back exit"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)("Zur√ºck zum Dashboard")]))),_:1}),t[2]||(t[2]=(0,r.Lk)("h1",null,"Dein Profil",-1)),t[3]||(t[3]=(0,r.Lk)("p",{class:"icon"},"üë§",-1)),(0,r.Lk)("table",null,[t[1]||(t[1]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Benutzername"),(0,r.Lk)("th",null,"Punktestand")])],-1)),(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("td",null,(0,a.v_)(n.username),1),(0,r.Lk)("td",null,(0,a.v_)(n.score),1)])])])])}var ke={name:"ProfilePage",data(){return{username:"",score:0,id:""}},mounted(){this.getUserData()},methods:{getUserData(){const e=sessionStorage.getItem("token");if(e)try{const t=(0,q.s)(e);this.username=t.username,this.id=t.id,this.fetchScore()}catch(t){console.error("Fehler beim Decodieren des Tokens:",t)}},fetchScore(){const e=sessionStorage.getItem("token");if(e)try{const t=(0,q.s)(e),s=t.userId;u.A.get(`https://quizapplication-production-ff18.up.railway.app/api/users/score/${s}`).then((e=>{this.score=e.data.score})).catch((e=>{console.error("Fehler beim Abrufen des Scores:",e)}))}catch(t){console.error("Fehler beim Decodieren des Tokens:",t)}}}};const ye=(0,d.A)(ke,[["render",ve],["__scopeId","data-v-2f3a1466"]]);var be=ye;const fe={class:"container-questions"},Ce={class:"add-category"},we={key:0,class:"add-category-form"},Le={key:1,class:"error-message"},Ee={class:"overview"},Fe=["onClick"],Qe=["onClick"],qe={key:2,class:"questions-list",ref:"questionList"},ze={class:"options-list"},Ae={key:0},_e={key:3,class:"success-message"},Xe={key:4,class:"question-form",ref:"questionForm"},Se=["onUpdate:modelValue","placeholder"],Ke={class:"answer-selection"},Ie=["value"];function Te(e,t,s,n,i,l){const u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",fe,[(0,r.bF)(u,{to:"/home",class:"exit button"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("Zur√ºck zum Dashboard")]))),_:1}),t[12]||(t[12]=(0,r.Lk)("h1",null,"Fragenkataloge",-1)),t[13]||(t[13]=(0,r.Lk)("p",null,"Erstelle eine neue Kategorie oder erweitere Fragen in den bisherigen Kategorien!",-1)),(0,r.Lk)("div",Ce,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=e=>i.showAddCategoryForm=!i.showAddCategoryForm),class:"add-category-button"},t[7]||(t[7]=[(0,r.Lk)("span",null,"+",-1),(0,r.eW)(" Neue Kategorie ")]))]),i.showAddCategoryForm?((0,r.uX)(),(0,r.CE)("div",we,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.newCategory=e),type:"text",placeholder:"Kategorie Name",class:"category-input"},null,512),[[o.Jo,i.newCategory]]),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.addCategory&&l.addCategory(...e)),class:"add-category-submit"},"Hinzuf√ºgen")])):(0,r.Q3)("",!0),i.errorMessage?((0,r.uX)(),(0,r.CE)("div",Le,(0,a.v_)(i.errorMessage),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",Ee,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.allCategories,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"category"},[(0,r.Lk)("h3",null,(0,a.v_)(e),1),(0,r.Lk)("span",{onClick:t=>l.selectCategory(e),class:"question-button"},"Neue Frage hinzuf√ºgen",8,Fe),(0,r.Lk)("span",{onClick:t=>l.seeAllQuestions(e),class:"question-button"},"Alle Fragen anzeigen",8,Qe)])))),128))]),i.questions.length>0?((0,r.uX)(),(0,r.CE)("div",qe,[(0,r.Lk)("h2",null,"Fragen f√ºr diese Kategorie "+(0,a.v_)(e.category),1),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.questions,((e,s)=>((0,r.uX)(),(0,r.CE)("li",{key:s,class:"question-item"},[t[8]||(t[8]=(0,r.Lk)("strong",null,"Frage:",-1)),(0,r.eW)(" "+(0,a.v_)(e.question)+" ",1),t[9]||(t[9]=(0,r.Lk)("br",null,null,-1)),t[10]||(t[10]=(0,r.Lk)("strong",null,"Antwortm√∂glichkeiten:",-1)),(0,r.Lk)("ul",ze,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.options,((t,s)=>((0,r.uX)(),(0,r.CE)("li",{key:s},[(0,r.eW)((0,a.v_)(t)+" ",1),s===e.answer?((0,r.uX)(),(0,r.CE)("span",Ae,"‚úÖ")):(0,r.Q3)("",!0)])))),128))])])))),128))])],512)):(0,r.Q3)("",!0),i.successMessage?((0,r.uX)(),(0,r.CE)("div",_e,(0,a.v_)(i.successMessage),1)):(0,r.Q3)("",!0),i.selectedCategory?((0,r.uX)(),(0,r.CE)("div",Xe,[(0,r.Lk)("h2",null,"Neue Frage hinzuf√ºgen - "+(0,a.v_)(i.selectedCategory),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.newQuestion=e),type:"text",placeholder:"Frage",class:"question-input"},null,512),[[o.Jo,i.newQuestion]]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.options,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"option-input"},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e=>i.options[t]=e,type:"text",placeholder:"Antwortoption "+(t+1),class:"option-field"},null,8,Se),[[o.Jo,i.options[t]]])])))),128)),(0,r.Lk)("div",Ke,[t[11]||(t[11]=(0,r.Lk)("label",null,"W√§hle die richtige Antwort:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.correctAnswer=e),class:"answer-select"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.options,((e,t)=>((0,r.uX)(),(0,r.CE)("option",{key:t,value:t}," Antwort "+(0,a.v_)(t+1),9,Ie)))),128))],512),[[o.u1,i.correctAnswer]])]),(0,r.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>l.submitQuestion&&l.submitQuestion(...e))},"Frage hinzuf√ºgen")],512)):(0,r.Q3)("",!0)])}s(7642),s(8004),s(3853),s(5876),s(2475),s(5024),s(1698),s(8992),s(4520),s(7550);var Me={data(){return{categories:[],temporaryCategories:[],showAddCategoryForm:!1,newCategory:"",selectedCategory:null,newQuestion:"",options:["","","",""],correctAnswer:null,successMessage:"",errorMessage:"",questions:[]}},async mounted(){await this.fetchCategories(),this.loadTemporaryCategories()},computed:{allCategories(){return[...new Set([...this.categories,...this.temporaryCategories])]}},methods:{async seeAllQuestions(e){this.questions=[];try{const t=await u.A.get(`https://quizapplication-production-ff18.up.railway.app/api/questions?category=${e}`);this.questions=t.data.map((e=>({question:e.question,options:JSON.parse(e.options),answer:e.answer,selected:null})))}catch(t){console.error("Fehler beim Abrufen der Fragen:",t),this.errorMessage="Fehler beim Laden der Fragen."}(0,r.dY)((()=>{this.$refs.questionList&&this.$refs.questionList.scrollIntoView({behavior:"smooth"})}))},async fetchCategories(){try{const e=await u.A.get("https://quizapplication-production-ff18.up.railway.app/api/categories");this.categories=e.data.map((e=>e.category))}catch(e){console.error("Fehler beim Abrufen der Kategorien:",e)}},loadTemporaryCategories(){const e=localStorage.getItem("temporaryCategories");e&&(this.temporaryCategories=JSON.parse(e))},addCategory(){if(""===this.newCategory.trim())return this.errorMessage="Bitte einen Namen f√ºr die Kategorie eingeben.",void this.clearMessages();const e=this.newCategory.trim().toLowerCase(),t=this.allCategories.some((t=>t.toLowerCase()===e));if(t)return this.errorMessage="Diese Kategorie existiert bereits!",void this.clearMessages();this.temporaryCategories.push(this.newCategory),localStorage.setItem("temporaryCategories",JSON.stringify(this.temporaryCategories)),this.newCategory="",this.showAddCategoryForm=!1,this.successMessage="Kategorie erfolgreich hinzugef√ºgt!",this.clearMessages()},selectCategory(e){this.selectedCategory=e,(0,r.dY)((()=>{this.$refs.questionForm&&this.$refs.questionForm.scrollIntoView({behavior:"smooth"})}))},isTemporaryCategory(e){return this.temporaryCategories.includes(e)},deleteCategory(e){this.isTemporaryCategory(e)&&(this.temporaryCategories=this.temporaryCategories.filter((t=>t!==e)),localStorage.setItem("temporaryCategories",JSON.stringify(this.temporaryCategories)),this.successMessage="Kategorie wurde gel√∂scht.",this.clearMessages())},async submitQuestion(){if(""===this.newQuestion.trim()||this.options.some((e=>""===e.trim()))||null===this.correctAnswer)return this.errorMessage="Bitte f√ºllen Sie alle Felder aus.",void this.clearMessages();const e={question:this.newQuestion,options:[...this.options],answer:this.correctAnswer,category:this.selectedCategory};try{await u.A.post("https://quizapplication-production-ff18.up.railway.app/api/questions",e),this.successMessage="Frage erfolgreich hinzugef√ºgt!",this.newQuestion="",this.options=["","","",""],this.correctAnswer=null}catch(t){this.errorMessage="Es gab ein Problem beim Hinzuf√ºgen der Frage.",this.clearMessages()}},clearMessages(){setTimeout((()=>{this.successMessage="",this.errorMessage=""}),5e3)}}};const Pe=(0,d.A)(Me,[["render",Te],["__scopeId","data-v-7d4c042a"]]);var Re=Pe;const We={key:0},xe={key:1},Ue={class:"overview buttons"},$e=["onClick"],De={key:3},Oe={key:0},Ne={key:1},je={key:4,class:"quiz-form"},Be={key:0},Ve={key:1,class:"options"},Je=["onClick"],He={key:3,style:{"font-weight":"bold",color:"#333","margin-top":"1rem"}},Ze={key:5,class:"modal-overlay"},Ge={class:"modal"},Ye={class:"options"},et=["onClick"],tt={key:0,class:"feedback"},st={key:6},ot={key:5},rt={key:0,style:{color:"green"}},at={key:1,style:{color:"red"}},nt={key:0,style:{color:"green"}},it={key:1,style:{color:"red"}};function lt(e,t,s,o,n,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(l,{to:"/home",class:"exit button"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Zur√ºck zum Dashboard")]))),_:1}),t[13]||(t[13]=(0,r.Lk)("h1",null,"Multiplayer-Quiz",-1)),o.playerFinishedMessage&&!o.quizCompleted?((0,r.uX)(),(0,r.CE)("div",We,[(0,r.Lk)("h2",null,(0,a.v_)(o.playerFinishedMessage),1)])):(0,r.Q3)("",!0),o.selectedCategory?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",xe,[t[5]||(t[5]=(0,r.Lk)("p",null,"W√§hle eine Kategorie aus, um das Quiz zu starten",-1)),(0,r.Lk)("div",Ue,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.categories,(e=>((0,r.uX)(),(0,r.CE)("button",{key:e,class:(0,a.C4)(["category",{selected:o.selectedCategory===e}]),onClick:t=>o.selectCategory(e)},(0,a.v_)(e),11,$e)))),128))])])),o.lobby||!o.selectedCategory||o.playerFinishedMessage?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:2,onClick:t[0]||(t[0]=(...e)=>o.joinLobby&&o.joinLobby(...e)),class:"quiz-start"},"Quiz starten")),o.lobby&&!o.quizCompleted?((0,r.uX)(),(0,r.CE)("div",De,[(0,r.Lk)("p",null,"Lobby-ID: "+(0,a.v_)(o.lobby.id),1),(0,r.Lk)("p",null,"Spieler in der Lobby: "+(0,a.v_)(o.lobby.players.length)+" / 2",1),o.lobby.players.length<2?((0,r.uX)(),(0,r.CE)("div",Oe,t[6]||(t[6]=[(0,r.Lk)("p",null,"Warten auf weiteren Spieler...",-1)]))):((0,r.uX)(),(0,r.CE)("div",Ne,t[7]||(t[7]=[(0,r.Lk)("p",null,"Das Quiz startet jetzt!",-1)])))])):(0,r.Q3)("",!0),o.quizStarted&&!o.quizCompleted?((0,r.uX)(),(0,r.CE)("div",je,[o.playerFinishedMessage?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("h2",Be,(0,a.v_)(o.currentQuestion.question),1)),o.playerFinishedMessage?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Ve,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.currentQuestion.options,((e,t)=>((0,r.uX)(),(0,r.CE)("button",{key:t,onClick:e=>o.sendAnswer(t),class:(0,a.C4)([void 0!==o.currentQuestion.selected&&t===o.currentQuestion.correct?"correct":"",void 0!==o.currentQuestion.selected&&t===o.currentQuestion.selected&&t!==o.currentQuestion.correct?"wrong":"",void 0!==o.currentQuestion.selected?"disabled":""])},(0,a.v_)(e),11,Je)))),128))])),!o.quizStarted||o.hasAnswered||o.playerFinishedMessage?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:2,onClick:t[1]||(t[1]=(...e)=>o.sendQuestionToTeammate&&o.sendQuestionToTeammate(...e))}," Frage an Mitspieler senden ")),e.teammateAnsweredNotification?((0,r.uX)(),(0,r.CE)("p",He,(0,a.v_)(e.teammateAnsweredNotification),1)):(0,r.Q3)("",!0),o.hasAnswered?((0,r.uX)(),(0,r.CE)("button",{key:4,onClick:t[2]||(t[2]=(...e)=>o.requestNextQuestion&&o.requestNextQuestion(...e))}," N√§chste Frage ")):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>o.leaveQuiz&&o.leaveQuiz(...e)),class:"leave-button"}," Quiz verlassen "),o.receivedQuestion?((0,r.uX)(),(0,r.CE)("div",Ze,[(0,r.Lk)("div",Ge,[t[8]||(t[8]=(0,r.Lk)("h2",null,"Du hast eine Frage von deinem Mitspieler erhalten!",-1)),(0,r.Lk)("h3",null,(0,a.v_)(o.receivedQuestion.question),1),(0,r.Lk)("div",Ye,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.receivedQuestion.options,((e,t)=>((0,r.uX)(),(0,r.CE)("button",{key:t,onClick:e=>o.sendReceivedAnswer(t)},(0,a.v_)(e),9,et)))),128))]),e.teammateAnswerFeedback?((0,r.uX)(),(0,r.CE)("div",tt,[(0,r.Lk)("p",{style:(0,a.Tr)({color:"Richtig!"===e.teammateAnswerFeedback?"green":"red",fontWeight:"bold"})},(0,a.v_)(e.teammateAnswerFeedback),5)])):(0,r.Q3)("",!0)])])):(0,r.Q3)("",!0),o.answerFeedback?((0,r.uX)(),(0,r.CE)("p",st,(0,a.v_)(o.answerFeedback),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),o.gameOver?((0,r.uX)(),(0,r.CE)("div",ot,[t[10]||(t[10]=(0,r.Lk)("h3",null,"Herzlichen Gl√ºckwunsch!",-1)),(0,r.Lk)("p",null,[(0,r.eW)(" Ihr habt das Spiel beendet! Dein Score: "+(0,a.v_)(o.score)+" ",1),t[9]||(t[9]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" Euer gemeinsamer Team-Score: "+(0,a.v_)(o.teamScore),1)]),t[11]||(t[11]=(0,r.Lk)("h2",null,"√úbersicht der dir gestellten Fragen",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.answeredQuestions,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"answered-questions",key:t},[(0,r.Lk)("h3",null,"Frage "+(0,a.v_)(t+1)+": "+(0,a.v_)(e.question),1),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.options,((t,s)=>((0,r.uX)(),(0,r.CE)("li",{key:s,style:(0,a.Tr)({color:s===e.correct?"green":"black",fontWeight:s===e.correct||s===e.selected?"bold":"normal"})},[(0,r.eW)((0,a.v_)(t)+" ",1),s===e.correct?((0,r.uX)(),(0,r.CE)("span",rt,"‚úîÔ∏è")):(0,r.Q3)("",!0),s===e.selected&&s!==e.correct?((0,r.uX)(),(0,r.CE)("span",at,"‚ùå")):(0,r.Q3)("",!0)],4)))),128))])])))),128)),t[12]||(t[12]=(0,r.Lk)("h2",null,"Fragen deines Mitspielers",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.partnerAnsweredQuestions,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"answered-questions",key:"partner-"+t},[(0,r.Lk)("h3",null,"Frage "+(0,a.v_)(t+1)+": "+(0,a.v_)(e.question),1),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.options,((t,s)=>((0,r.uX)(),(0,r.CE)("li",{key:s,style:(0,a.Tr)({color:s===e.correct?"green":"black",fontWeight:s===e.correct||s===e.selected?"bold":"normal"})},[(0,r.eW)((0,a.v_)(t)+" ",1),s===e.correct?((0,r.uX)(),(0,r.CE)("span",nt,"‚úîÔ∏è")):(0,r.Q3)("",!0),s===e.selected&&s!==e.correct?((0,r.uX)(),(0,r.CE)("span",it,"‚ùå")):(0,r.Q3)("",!0)],4)))),128))])])))),128))])):(0,r.Q3)("",!0)])}s(2577);var ut={setup(){const e=(0,J.KR)([]),t=(0,J.KR)(null),s=(0,J.KR)(!1),o=(0,J.KR)(null),r=(0,J.KR)(!1),a=(0,J.KR)({}),n=(0,J.KR)(""),i=(0,J.KR)(0),l=(0,J.KR)(!1),c=(0,J.KR)(0),d=(0,J.KR)(null),p=(0,J.KR)(!1),g=(0,J.KR)([]),h=(0,J.KR)([]),m=(0,J.KR)([]),v=(0,J.KR)(null),k=(0,J.KR)(null),y=(0,J.KR)(null),b=async()=>{try{const t=await u.A.get("https://quizapplication-production-ff18.up.railway.app/api/categories");e.value=t.data.map((e=>e.category))}catch(t){console.error("Fehler beim Abrufen der Kategorien:",t)}},f=e=>{t.value=e},C=()=>{t.value&&qt.emit("joinLobby",{category:t.value})},w=()=>{s.value=!1,n.value="",qt.emit("requestNextQuestion",o.value.id)},L=e=>{s.value||(a.value.selected=e,qt.emit("answerQuestion",{lobbyId:o.value.id,answer:e}),m.value.push({question:a.value.question,options:a.value.options,correct:a.value.correct,selected:e,playerId:qt.id}),s.value=!0)},E=e=>{d.value&&(qt.emit("answerTeammateQuestion",{lobbyId:o.value.id,answer:e,correct:d.value.correct,question:d.value.question,options:d.value.options,from:d.value.from}),d.value=null)};qt.on("lobbyUpdate",(e=>{o.value=e})),qt.on("startQuiz",(()=>{r.value=!0,qt.emit("requestFirstQuestion",o.value.id)})),qt.on("newQuestion",(e=>{a.value={question:e.question,options:e.options,correct:e.correct},g.value.push(a.value),n.value="",s.value=!1}));const F=()=>{qt.emit("sendQuestionToTeammate",{lobbyId:o.value.id,question:{...a.value,from:qt.id}}),w()};qt.on("receiveQuestionFromTeammate",(e=>{d.value=e})),qt.on("teammateAnsweredForwardedQuestion",(e=>{y.value=e.message,setTimeout((()=>{y.value=null}),3e3)})),qt.on("answerFeedback",(e=>{n.value=e.message,null===d.value?(k.value=e.message,setTimeout((()=>{k.value=null}),3e3)):e.correct&&(i.value+=1)})),qt.on("playerFinished",(e=>{v.value=e.message})),qt.on("gameOver",(e=>{l.value=!0,c.value=e.teamScore,p.value=!0;const t=e.answeredQuestions||{},s=qt.id,o=Object.keys(t).find((e=>e!==s));i.value=e.scores[s]||0,m.value=t[s]||[],h.value=t[o]||[],Q()}));const Q=async()=>{try{const e=sessionStorage.getItem("username");if(!e)return void console.error("Kein Benutzername gefunden");await u.A.put("https://quizapplication-production-ff18.up.railway.app/api/leaderboard",{username:e,score:i.value})}catch(e){console.error("Fehler beim Speichern des Punktestands:",e)}};qt.on("playerLeft",(e=>{r.value=!1,p.value=!0,v.value=e.message,setTimeout((()=>{window.location.href="/home"}),4e3)}));const q=()=>{o.value&&o.value.id&&qt.emit("playerLeftQuiz",{lobbyId:o.value.id}),r.value=!1,p.value=!0,v.value="Du hast das Quiz verlassen. Du wirst nun zur Startseite weitergeleitet",setTimeout((()=>{window.location.href="/home"}),4e3)};return qt.on("error",(e=>{v.value=e.message,setTimeout((()=>{v.value=null,window.location.href="/multiplayer"}),2e3)})),b(),{categories:e,selectedCategory:t,hasAnswered:s,lobby:o,quizStarted:r,currentQuestion:a,sendAnswer:L,answerFeedback:n,score:i,teamScore:c,gameOver:l,selectCategory:f,joinLobby:C,sendQuestionToTeammate:F,sendReceivedAnswer:E,receivedQuestion:d,requestNextQuestion:w,quizCompleted:p,askedQuestions:g,answeredQuestions:m,playerFinishedMessage:v,partnerAnsweredQuestions:h,leaveQuiz:q}}};const ct=(0,d.A)(ut,[["render",lt],["__scopeId","data-v-eddaff32"]]);var dt=ct;const pt={class:"overview buttons"},gt=["onClick"];function ht(e,t,s,o,n,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(l,{to:"/home",class:"exit button"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)("Zur√ºck zum Dashboard")]))),_:1}),t[1]||(t[1]=(0,r.Lk)("p",null," W√§hle eine Kategorie aus um das Quiz zu starten",-1)),(0,r.Lk)("div",pt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.categories,(e=>((0,r.uX)(),(0,r.CE)("button",{key:e,class:"category",onClick:t=>i.goToQuiz(e)},(0,a.v_)(e),9,gt)))),128))])])}var mt={data(){return{categories:[]}},async mounted(){await this.fetchCategories()},methods:{goToQuiz(e){this.$router.push({name:"quiz",query:{category:e}})},async fetchCategories(){try{const e=await u.A.get("https://quizapplication-production-ff18.up.railway.app/api/categories");this.categories=e.data.map((e=>e.category))}catch(e){console.error("Fehler beim Abrufen der Kategorien:",e)}}}};const vt=(0,d.A)(mt,[["render",ht],["__scopeId","data-v-3b4f86c4"]]);var kt=vt;const yt=[{path:"/",name:"login",component:V},{path:"/register",name:"register",component:x},{path:"/home",name:"home",component:_,meta:{requiresAuth:!0}},{path:"/quiz",name:"quiz",component:de,meta:{requiresAuth:!0}},{path:"/categories",name:"categories",component:kt,meta:{requiresAuth:!0}},{path:"/leaderboard",name:"leaderboard",component:me,meta:{requiresAuth:!0}},{path:"/profile",name:"profile",component:be,meta:{requiresAuth:!0}},{path:"/questions",name:"questions",component:Re,meta:{requiresAuth:!0}},{path:"/multiplayer",name:"multiplayer",component:dt,meta:{requiresAuth:!0}}],bt=(0,h.aE)({history:(0,h.LA)("/"),routes:yt});bt.beforeEach(((e,t,s)=>{const o=!!sessionStorage.getItem("token");e.meta.requiresAuth&&!o?s("/"):s()}));var ft=bt,Ct=s(782),wt=s(5131);const Lt=()=>({token:"",user:{}});var Et=(0,Ct.y$)({strict:!0,plugins:[(0,wt.A)()],state:Lt(),getters:{isLoggedIn:e=>e.token,getUser:e=>e.user},mutations:{SET_TOKEN:(e,t)=>{e.token=t},SET_USER:(e,t)=>{e.user=t},RESET:e=>{Object.assign(e,Lt())}},actions:{login:({commit:e},{token:t,user:s})=>{e("SET_TOKEN",t),e("SET_USER",s),u.A.defaults.headers.common["Authorization"]=`Bearer ${t}`},logout:({commit:e})=>{e("RESET","")}}}),Ft=s(1714);const Qt=(0,o.Ef)(g);u.A.defaults.headers.common["Authorization"]=`Bearer ${Et.state.token}`,u.A.defaults.baseURL="https://quizapplication-production-ff18.up.railway.app/api",Qt.config.globalProperties.$axios=u.A;const qt=(0,Ft.io)("https://quizapplication-production-ff18.up.railway.app",{transports:["websocket"],withCredentials:!0});Qt.config.globalProperties.$socket=qt,Qt.use(ft),Qt.use(Et),Qt.mount("#app")}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,o,r,a){if(!o){var n=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],a=e[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&a||n>=a)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(i=!1,a<n&&(n=a));if(i){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,n=o[0],i=o[1],l=o[2],u=0;if(n.some((function(t){return 0!==e[t]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(l)var c=l(s)}for(t&&t(o);u<n.length;u++)a=n[u],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(2120)}));o=s.O(o)})();
//# sourceMappingURL=app.1b1e7fcd.js.map