(function(){"use strict";var e={7422:function(e,t,s){s.d(t,{s:function(){return Ft}});var o=s(5130),r=s(6768),n=s(4232);const a={class:"nav"},i={class:"main"};function l(e,t,s,o,l,u){const c=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",{class:(0,n.C4)(["app",u.backgroundClass])},[(0,r.Lk)("nav",a,[t[2]||(t[2]=(0,r.Lk)("p",null,[(0,r.eW)("Skillmaster "),(0,r.Lk)("span",null,"Skill up your life")],-1)),l.isLoggedIn?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>u.goToProfile&&u.goToProfile(...e))},"Profil üë§")):(0,r.Q3)("",!0),l.isLoggedIn?((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>u.logout&&u.logout(...e))},"Logout")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",i,[(0,r.bF)(c)])],2)}s(4114);var u=s(4373),c={name:"App",data(){return{message:"",isLoggedIn:!1}},computed:{backgroundClass(){const e=this.$route.name;return"login"===e||"register"===e?"background":"no-background"}},methods:{checkLoginStatus(){this.isLoggedIn=!!sessionStorage.getItem("token")},async getDataFromBackend(){try{const e=await u.A.get("https://quizapplication-production-ff18.up.railway.app/api/test");this.message=e.data.message}catch(e){console.error("Fehler beim Abrufen der Daten:",e)}},logout(){sessionStorage.removeItem("token"),this.isLoggedIn=!1,this.$router.push("/")},goToProfile(){this.$router.push("/profile")}},watch:{$route(){this.checkLoginStatus()}},mounted(){this.checkLoginStatus()}},d=s(1241);const p=(0,d.A)(c,[["render",l]]);var g=p,h=s(1387),m=s.p+"img/background-image.8c7309f8.jpg";const v={class:"dashboard"},k={class:"hero"},y={id:"intro"},b={key:0},f={class:"categories-dashboard"},C={class:"quiz-general"},w={class:"buttons"},L={class:"cooperative"},E={class:"extend-questions"},F={class:"best-list"};function Q(e,t,s,o,a,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",v,[(0,r.Lk)("div",k,[t[5]||(t[5]=(0,r.Lk)("img",{src:m},null,-1)),(0,r.Lk)("div",y,[t[3]||(t[3]=(0,r.Lk)("h1",null,"Skillmaster Dashboard",-1)),a.username?((0,r.uX)(),(0,r.CE)("h2",b,"Willkommen zur√ºck, "+(0,n.v_)(a.username)+"!",1)):(0,r.Q3)("",!0),t[4]||(t[4]=(0,r.Lk)("p",null," Hier kannst du ein Quiz starten, die Fragenkataloge erweitern, gemeinsam mit anderen Spielern lernen und vieles mehr!",-1))])]),(0,r.Lk)("div",f,[(0,r.Lk)("div",C,[t[7]||(t[7]=(0,r.Lk)("p",null," Erweitere deine Kenntnisse und starte ein Quiz!",-1)),(0,r.Lk)("div",w,[(0,r.bF)(l,{to:"/categories",class:"quiz"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("Los geht's")]))),_:1})])]),(0,r.Lk)("div",L,[t[8]||(t[8]=(0,r.Lk)("p",null," Du m√∂chtest gemeinsam mit anderen Studierenden lernen?",-1)),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.goToMultiplayerPage&&i.goToMultiplayerPage(...e))}," Starte ein kooperatives Spiel")]),(0,r.Lk)("div",E,[t[9]||(t[9]=(0,r.Lk)("p",null," M√∂chtest du eure gemeinsamen Lerninhalte erweitern und eigene Fragen hinzuf√ºgen?",-1)),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.goToQuestionsPage&&i.goToQuestionsPage(...e))}," Erweitere den Fragenkatalog ")]),(0,r.Lk)("div",F,[t[10]||(t[10]=(0,r.Lk)("p",null," Hier findest du die aktuelle Bestenliste der IU",-1)),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.goToLeaderboard&&i.goToLeaderboard(...e))}," Zum Leaderboard ")])])])}var q=s(5068),z={name:"HomePage",data(){return{username:""}},mounted(){this.getUserData()},methods:{getUserData(){const e=sessionStorage.getItem("token");if(e)try{const t=(0,q.s)(e);console.log(t),this.username=t.username}catch(t){console.error("Fehler beim Decodieren des Tokens:",t)}},goToQuiz(e){this.$router.push({name:"quiz",query:{category:e}})},goToLeaderboard(){this.$router.push("/leaderboard")},goToQuestionsPage(){this.$router.push("/questions")},goToMultiplayerPage(){this.$router.push("/multiplayer")}}};const _=(0,d.A)(z,[["render",Q],["__scopeId","data-v-31a7bd28"]]);var A=_;const X={class:"container"},S={class:"registerBox"},I={key:0},K={class:"register-text"};function T(e,t,s,a,i,l){const u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",X,[(0,r.Lk)("div",S,[t[6]||(t[6]=(0,r.Lk)("h1",null,"Registrieren",-1)),(0,r.Lk)("form",null,[(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e)},null,512),[[o.Jo,i.username]]),(0,r.bo)((0,r.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e)},null,512),[[o.Jo,i.password]]),(0,r.bo)((0,r.Lk)("input",{type:"password",placeholder:"Password (repeat)","onUpdate:modelValue":t[2]||(t[2]=e=>i.password_repeat=e)},null,512),[[o.Jo,i.password_repeat]]),(0,r.Lk)("input",{type:"button",onClick:t[3]||(t[3]=(...e)=>l.signUp&&l.signUp(...e)),value:"Registrieren"})]),i.msg?((0,r.uX)(),(0,r.CE)("p",I,(0,n.v_)(i.msg),1)):(0,r.Q3)("",!0),(0,r.Lk)("p",K,[t[5]||(t[5]=(0,r.eW)(" Du hast bereits ein Konto? ")),(0,r.bF)(u,{to:"/"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Hier anmelden")]))),_:1})])])])}const M="https://quizapplication-production-ff18.up.railway.app/api";var P={async login(e){try{const t=await u.A.post(M+"/",e);return t.data}catch(t){throw console.error("Login-Fehler:",t),t.response&&console.error("Fehler-Response:",t.response.data),t.response?t.response.data:t.message}},async signUp(e){try{const t=await u.A.post(M+"/register/",e);return t.data}catch(t){throw console.error("Registrierungs-Fehler:",t),t.response?t.response.data:t.message}},async getSecretContent(){try{const e=await u.A.get(M+"/start/");return e.data}catch(e){throw console.error("Fehler beim Abrufen von geheimen Inhalten:",e),e.response?e.response.data:e.message}}},R={data(){return{username:"",password:"",password_repeat:"",msg:""}},methods:{async signUp(){if(this.password===this.password_repeat)if(this.password.length<6)this.msg="Das Passwort muss mindestens 6 Zeichen haben!";else try{const e={username:this.username,password:this.password,password_repeat:this.password_repeat},t=await P.signUp(e);this.msg=t.msg,this.$router.push("/")}catch(e){this.msg=e}else this.msg="Passw√∂rter stimmen nicht √ºberein"}}};const x=(0,d.A)(R,[["render",T],["__scopeId","data-v-971196d2"]]);var W=x;const D={class:"container"},U={class:"loginBox"},$={key:0},O={class:"register-text"};function N(e,t,s,a,i,l){const u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",D,[(0,r.Lk)("div",U,[t[5]||(t[5]=(0,r.Lk)("h1",null,"Login",-1)),(0,r.Lk)("form",null,[(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e)},null,512),[[o.Jo,i.username]]),(0,r.bo)((0,r.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e)},null,512),[[o.Jo,i.password]]),(0,r.Lk)("input",{type:"button",onClick:t[2]||(t[2]=(...e)=>l.login&&l.login(...e)),value:"Anmelden"})]),i.msg?((0,r.uX)(),(0,r.CE)("p",$,(0,n.v_)(i.msg),1)):(0,r.Q3)("",!0),(0,r.Lk)("p",O,[t[4]||(t[4]=(0,r.eW)(" Noch kein Konto? ")),(0,r.bF)(u,{to:"/register"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("Hier registrieren")]))),_:1})])])])}var j={name:"LoginPage",data(){return{username:"",password:"",msg:""}},methods:{async login(){try{const e={username:this.username,password:this.password},t=await P.login(e);this.msg=t.message,sessionStorage.setItem("token",t.token),sessionStorage.setItem("username",this.username),this.$router.push("/home")}catch(e){console.error("Login-Fehler:",e),e.response&&e.response.data?(console.error("Fehler-Response:",e.response.data),this.msg=e.response.data):e.message?this.msg=e.message:this.msg="Es gab ein Problem mit dem Login. Bitte versuche es sp√§ter erneut."}}}};const B=(0,d.A)(j,[["render",N]]);var J=B,V=(s(1454),s(144));const H={class:"app"},Z={key:0,class:"quiz"},G={class:"timer"},Y={class:"quiz-info"},ee={class:"question"},te={class:"score"},se={class:"options"},oe=["name","value","disabled"],re=["disabled"],ne={key:1},ae={class:"quiz-end"},ie={key:0},le={key:1};var ue={__name:"QuizPage",setup(e){const t=(0,h.lq)(),s=(0,h.rd)();let a=(0,V.KR)(90);const i=(0,V.KR)(!1);let l=null;const c=()=>{l=setInterval((()=>{a.value>0?a.value--:(clearInterval(l),g())}),1e3)},d=()=>{clearInterval(l)},p=(0,r.EW)((()=>{const e=Math.floor(a.value/60),t=a.value%60;return`${e}:${t.toString().padStart(2,"0")}`})),g=()=>{y.value=!0,i.value=!0,L(),d()},m=()=>{s.push("/home"),d()},v=t.query.category,k=(0,V.KR)([]),y=(0,V.KR)(!1),b=(0,V.KR)(0),f=async e=>{try{const t=await u.A.get(`https://quizapplication-production-ff18.up.railway.app/api/questions?category=${e}`);k.value=t.data.map((e=>({question:e.question,options:JSON.parse(e.options),answer:e.answer,selected:null})))}catch(t){console.error("Fehler beim Abrufen der Fragen:",t)}};(0,r.sV)((()=>{f(v),c()}));const C=(0,r.EW)((()=>{let e=0;return k.value.map((t=>{t.selected==t.answer&&e++})),e})),w=sessionStorage.getItem("username");console.log("Benutzername aus sessionStorage:",w);const L=async()=>{try{const e=sessionStorage.getItem("username");if(!e)return void console.error("Kein Benutzername gefunden");const t=await u.A.put("https://quizapplication-production-ff18.up.railway.app/api/leaderboard",{username:e,score:C.value});console.log("Punktestand gespeichert:",t.data)}catch(e){console.error("Fehler beim Speichern des Punktestands:",e)}},E=(0,r.EW)((()=>{let e=k.value[b.value];return e?(e.index=b.value,e):{}})),F=e=>{k.value[b.value].selected=e.target.value},Q=()=>{b.value<k.value.length-1?b.value++:(y.value=!0,L())};return(e,t)=>{const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("main",H,[t[2]||(t[2]=(0,r.Lk)("h1",null,"Multiple-choice Quiz",-1)),y.value?((0,r.uX)(),(0,r.CE)("section",ne,[(0,r.Lk)("div",ae,[i.value?((0,r.uX)(),(0,r.CE)("h2",ie,"Oops, die Zeit ist abgelaufen!")):((0,r.uX)(),(0,r.CE)("h2",le,"Herzlichen Gl√ºckwunsch, du hast das Quiz abgeschlossen!")),(0,r.Lk)("h3",null,"Dein Punktestand: "+(0,n.v_)(C.value)+" / "+(0,n.v_)(k.value.length),1)]),(0,r.Lk)("button",{onClick:m},"Zur√ºck zur Startseite")])):((0,r.uX)(),(0,r.CE)("section",Z,[(0,r.Lk)("div",G,(0,n.v_)(p.value),1),(0,r.Lk)("div",Y,[(0,r.Lk)("span",ee,(0,n.v_)(E.value.question),1),(0,r.Lk)("span",te," Score: "+(0,n.v_)(C.value)+" / "+(0,n.v_)(k.value.length),1)]),(0,r.Lk)("div",se,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(E.value.options,((e,s)=>((0,r.uX)(),(0,r.CE)("label",{key:s,class:(0,n.C4)(`option ${E.value.selected==s?s==E.value.answer?"correct":"wrong":""}${null!==E.value.selected&&s!==E.value.selected?" disabled":""}${s===E.value.answer&&null!==E.value.selected?" correct":""}\n            `)},[(0,r.bo)((0,r.Lk)("input",{type:"radio",name:E.value.index,value:s,"onUpdate:modelValue":t[0]||(t[0]=e=>E.value.selected=e),disabled:null!==E.value.selected,onChange:F},null,40,oe),[[o.XL,E.value.selected]]),(0,r.Lk)("span",null,(0,n.v_)(e),1)],2)))),128))]),(0,r.Lk)("button",{onClick:Q,disabled:null===E.value.selected},(0,n.v_)(E.value.index==k.value.length-1?"Abschlie√üen":"N√§chste Frage"),9,re),(0,r.bF)(s,{to:"/categories",class:"stop-quiz"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)("Quiz abbrechen")]))),_:1})]))])}}};const ce=(0,d.A)(ue,[["__scopeId","data-v-74d13b68"]]);var de=ce;function pe(e,t,s,o,a,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(l,{to:"/home",class:"exit"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)("Zur√ºck zum Dashboard")]))),_:1}),t[2]||(t[2]=(0,r.Lk)("h1",null,"Leaderboard",-1)),(0,r.Lk)("table",null,[t[1]||(t[1]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Platz"),(0,r.Lk)("th",null,"Benutzername"),(0,r.Lk)("th",null,"Punktestand")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.leaderboard,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,n.v_)(t+1),1),(0,r.Lk)("td",null,(0,n.v_)(e.username),1),(0,r.Lk)("td",null,(0,n.v_)(e.score),1)])))),128))])])])}var ge={name:"LeaderboardPage",data(){return{leaderboard:[]}},created(){fetch("https://quizapplication-production-ff18.up.railway.app/api/leaderboard").then((e=>e.json())).then((e=>{this.leaderboard=e})).catch((e=>console.error("Fehler beim Laden der Bestenliste:",e)))}};const he=(0,d.A)(ge,[["render",pe]]);var me=he;function ve(e,t,s,o,a,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(l,{to:"/home",class:"back exit"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)("Zur√ºck zum Dashboard")]))),_:1}),t[2]||(t[2]=(0,r.Lk)("h1",null,"Dein Profil",-1)),t[3]||(t[3]=(0,r.Lk)("p",{class:"icon"},"üë§",-1)),(0,r.Lk)("table",null,[t[1]||(t[1]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Benutzername"),(0,r.Lk)("th",null,"Punktestand")])],-1)),(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("td",null,(0,n.v_)(a.username),1),(0,r.Lk)("td",null,(0,n.v_)(a.score),1)])])])])}var ke={name:"ProfilePage",data(){return{username:"",score:0,id:""}},mounted(){this.getUserData()},methods:{getUserData(){const e=sessionStorage.getItem("token");if(e)try{const t=(0,q.s)(e);console.log("Token-Daten:",t),this.username=t.username,this.id=t.id,this.fetchScore()}catch(t){console.error("Fehler beim Decodieren des Tokens:",t)}},fetchScore(){const e=sessionStorage.getItem("token");if(e)try{const t=(0,q.s)(e),s=t.userId;u.A.get(`https://quizapplication-production-ff18.up.railway.app/api/users/score/${s}`).then((e=>{this.score=e.data.score})).catch((e=>{console.error("Fehler beim Abrufen des Scores:",e)}))}catch(t){console.error("Fehler beim Decodieren des Tokens:",t)}}}};const ye=(0,d.A)(ke,[["render",ve],["__scopeId","data-v-32fe0e5f"]]);var be=ye;const fe={class:"container-questions"},Ce={class:"add-category"},we={key:0,class:"add-category-form"},Le={key:1,class:"error-message"},Ee={class:"overview"},Fe=["onClick"],Qe=["onClick"],qe={key:2,class:"questions-list",ref:"questionList"},ze={class:"options-list"},_e={key:0},Ae={key:3,class:"success-message"},Xe={key:4,class:"question-form",ref:"questionForm"},Se=["onUpdate:modelValue","placeholder"],Ie={class:"answer-selection"},Ke=["value"];function Te(e,t,s,a,i,l){const u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",fe,[(0,r.bF)(u,{to:"/home",class:"exit button"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("Zur√ºck zum Dashboard")]))),_:1}),t[12]||(t[12]=(0,r.Lk)("h1",null,"Fragenkataloge",-1)),t[13]||(t[13]=(0,r.Lk)("p",null,"Erstelle eine neue Kategorie oder erweitere Fragen in den bisherigen Kategorien!",-1)),(0,r.Lk)("div",Ce,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=e=>i.showAddCategoryForm=!i.showAddCategoryForm),class:"add-category-button"},t[7]||(t[7]=[(0,r.Lk)("span",null,"+",-1),(0,r.eW)(" Neue Kategorie ")]))]),i.showAddCategoryForm?((0,r.uX)(),(0,r.CE)("div",we,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.newCategory=e),type:"text",placeholder:"Kategorie Name",class:"category-input"},null,512),[[o.Jo,i.newCategory]]),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.addCategory&&l.addCategory(...e)),class:"add-category-submit"},"Hinzuf√ºgen")])):(0,r.Q3)("",!0),i.errorMessage?((0,r.uX)(),(0,r.CE)("div",Le,(0,n.v_)(i.errorMessage),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",Ee,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.allCategories,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"category"},[(0,r.Lk)("h3",null,(0,n.v_)(e),1),(0,r.Lk)("span",{onClick:t=>l.selectCategory(e),class:"question-button"},"Neue Frage hinzuf√ºgen",8,Fe),(0,r.Lk)("span",{onClick:t=>l.seeAllQuestions(e),class:"question-button"},"Alle Fragen anzeigen",8,Qe)])))),128))]),i.questions.length>0?((0,r.uX)(),(0,r.CE)("div",qe,[(0,r.Lk)("h2",null,"Fragen f√ºr diese Kategorie "+(0,n.v_)(e.category),1),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.questions,((e,s)=>((0,r.uX)(),(0,r.CE)("li",{key:s,class:"question-item"},[t[8]||(t[8]=(0,r.Lk)("strong",null,"Frage:",-1)),(0,r.eW)(" "+(0,n.v_)(e.question)+" ",1),t[9]||(t[9]=(0,r.Lk)("br",null,null,-1)),t[10]||(t[10]=(0,r.Lk)("strong",null,"Antwortm√∂glichkeiten:",-1)),(0,r.Lk)("ul",ze,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.options,((t,s)=>((0,r.uX)(),(0,r.CE)("li",{key:s},[(0,r.eW)((0,n.v_)(t)+" ",1),s===e.answer?((0,r.uX)(),(0,r.CE)("span",_e,"‚úÖ")):(0,r.Q3)("",!0)])))),128))])])))),128))])],512)):(0,r.Q3)("",!0),i.successMessage?((0,r.uX)(),(0,r.CE)("div",Ae,(0,n.v_)(i.successMessage),1)):(0,r.Q3)("",!0),i.selectedCategory?((0,r.uX)(),(0,r.CE)("div",Xe,[(0,r.Lk)("h2",null,"Neue Frage hinzuf√ºgen - "+(0,n.v_)(i.selectedCategory),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.newQuestion=e),type:"text",placeholder:"Frage",class:"question-input"},null,512),[[o.Jo,i.newQuestion]]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.options,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"option-input"},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e=>i.options[t]=e,type:"text",placeholder:"Antwortoption "+(t+1),class:"option-field"},null,8,Se),[[o.Jo,i.options[t]]])])))),128)),(0,r.Lk)("div",Ie,[t[11]||(t[11]=(0,r.Lk)("label",null,"W√§hle die richtige Antwort:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.correctAnswer=e),class:"answer-select"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.options,((e,t)=>((0,r.uX)(),(0,r.CE)("option",{key:t,value:t}," Antwort "+(0,n.v_)(t+1),9,Ke)))),128))],512),[[o.u1,i.correctAnswer]])]),(0,r.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>l.submitQuestion&&l.submitQuestion(...e))},"Frage hinzuf√ºgen")],512)):(0,r.Q3)("",!0)])}s(7642),s(8004),s(3853),s(5876),s(2475),s(5024),s(1698),s(8992),s(4520),s(7550);var Me={data(){return{categories:[],temporaryCategories:[],showAddCategoryForm:!1,newCategory:"",selectedCategory:null,newQuestion:"",options:["","","",""],correctAnswer:null,successMessage:"",errorMessage:"",questions:[]}},async mounted(){await this.fetchCategories(),this.loadTemporaryCategories()},computed:{allCategories(){return[...new Set([...this.categories,...this.temporaryCategories])]}},methods:{async seeAllQuestions(e){this.questions=[];try{const t=await u.A.get(`https://quizapplication-production-ff18.up.railway.app/api/questions?category=${e}`);this.questions=t.data.map((e=>({question:e.question,options:JSON.parse(e.options),answer:e.answer,selected:null})))}catch(t){console.error("Fehler beim Abrufen der Fragen:",t),this.errorMessage="Fehler beim Laden der Fragen."}(0,r.dY)((()=>{this.$refs.questionList&&this.$refs.questionList.scrollIntoView({behavior:"smooth"})}))},async fetchCategories(){try{const e=await u.A.get("https://quizapplication-production-ff18.up.railway.app/api/categories");this.categories=e.data.map((e=>e.category)),console.log(this.categories)}catch(e){console.error("Fehler beim Abrufen der Kategorien:",e)}},loadTemporaryCategories(){const e=localStorage.getItem("temporaryCategories");e&&(this.temporaryCategories=JSON.parse(e))},addCategory(){if(""===this.newCategory.trim())return this.errorMessage="Bitte einen Namen f√ºr die Kategorie eingeben.",void this.clearMessages();const e=this.newCategory.trim().toLowerCase(),t=this.allCategories.some((t=>t.toLowerCase()===e));if(t)return this.errorMessage="Diese Kategorie existiert bereits!",void this.clearMessages();this.temporaryCategories.push(this.newCategory),localStorage.setItem("temporaryCategories",JSON.stringify(this.temporaryCategories)),this.newCategory="",this.showAddCategoryForm=!1,this.successMessage="Kategorie erfolgreich hinzugef√ºgt!",this.clearMessages()},selectCategory(e){this.selectedCategory=e,(0,r.dY)((()=>{this.$refs.questionForm&&this.$refs.questionForm.scrollIntoView({behavior:"smooth"})}))},isTemporaryCategory(e){return this.temporaryCategories.includes(e)},deleteCategory(e){this.isTemporaryCategory(e)&&(this.temporaryCategories=this.temporaryCategories.filter((t=>t!==e)),localStorage.setItem("temporaryCategories",JSON.stringify(this.temporaryCategories)),this.successMessage="Kategorie wurde gel√∂scht.",this.clearMessages())},async submitQuestion(){if(""===this.newQuestion.trim()||this.options.some((e=>""===e.trim()))||null===this.correctAnswer)return this.errorMessage="Bitte f√ºllen Sie alle Felder aus.",void this.clearMessages();const e={question:this.newQuestion,options:[...this.options],answer:this.correctAnswer,category:this.selectedCategory};try{await u.A.post("https://quizapplication-production-ff18.up.railway.app/api/questions",e),this.successMessage="Frage erfolgreich hinzugef√ºgt!",this.newQuestion="",this.options=["","","",""],this.correctAnswer=null}catch(t){this.errorMessage="Es gab ein Problem beim Hinzuf√ºgen der Frage.",this.clearMessages()}},clearMessages(){setTimeout((()=>{this.successMessage="",this.errorMessage=""}),5e3)}}};const Pe=(0,d.A)(Me,[["render",Te],["__scopeId","data-v-56c87f44"]]);var Re=Pe;const xe={key:0},We={key:1},De={class:"overview buttons"},Ue=["onClick"],$e={key:3},Oe={key:0},Ne={key:1},je={key:4,class:"quiz-form"},Be={key:0},Je={key:1,class:"options"},Ve=["onClick"],He={key:4,class:"modal-overlay"},Ze={class:"modal"},Ge={class:"options"},Ye=["onClick"],et={key:5},tt={key:5},st={key:0,style:{color:"green"}},ot={key:1,style:{color:"red"}},rt={key:0,style:{color:"green"}},nt={key:1,style:{color:"red"}};function at(e,t,s,o,a,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(l,{to:"/home",class:"exit button"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("Zur√ºck zum Dashboard")]))),_:1}),t[13]||(t[13]=(0,r.Lk)("h1",null,"Multiplayer-Quiz",-1)),o.playerFinishedMessage?((0,r.uX)(),(0,r.CE)("div",xe,[(0,r.Lk)("h2",null,(0,n.v_)(o.playerFinishedMessage),1)])):(0,r.Q3)("",!0),o.selectedCategory?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",We,[t[5]||(t[5]=(0,r.Lk)("p",null,"W√§hle eine Kategorie aus, um das Quiz zu starten",-1)),(0,r.Lk)("div",De,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.categories,(e=>((0,r.uX)(),(0,r.CE)("button",{key:e,class:(0,n.C4)(["category",{selected:o.selectedCategory===e}]),onClick:t=>o.selectCategory(e)},(0,n.v_)(e),11,Ue)))),128))])])),o.lobby||!o.selectedCategory||o.playerFinishedMessage?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:2,onClick:t[0]||(t[0]=(...e)=>o.joinLobby&&o.joinLobby(...e)),class:"quiz-start"},"Quiz starten")),o.lobby&&!o.quizCompleted?((0,r.uX)(),(0,r.CE)("div",$e,[(0,r.Lk)("p",null,"Lobby-ID: "+(0,n.v_)(o.lobby.id),1),(0,r.Lk)("p",null,"Spieler in der Lobby: "+(0,n.v_)(o.lobby.players.length)+" / 2",1),o.lobby.players.length<2?((0,r.uX)(),(0,r.CE)("div",Oe,t[6]||(t[6]=[(0,r.Lk)("p",null,"Warten auf weiteren Spieler...",-1)]))):((0,r.uX)(),(0,r.CE)("div",Ne,t[7]||(t[7]=[(0,r.Lk)("p",null,"Das Quiz startet jetzt!",-1)])))])):(0,r.Q3)("",!0),o.quizStarted&&!o.quizCompleted?((0,r.uX)(),(0,r.CE)("div",je,[o.playerFinishedMessage?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("h2",Be,(0,n.v_)(o.currentQuestion.question),1)),o.playerFinishedMessage?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Je,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.currentQuestion.options,((e,t)=>((0,r.uX)(),(0,r.CE)("button",{key:t,onClick:e=>o.sendAnswer(t),class:(0,n.C4)([void 0!==o.currentQuestion.selected&&t===o.currentQuestion.correct?"correct":"",void 0!==o.currentQuestion.selected&&t===o.currentQuestion.selected&&t!==o.currentQuestion.correct?"wrong":"",void 0!==o.currentQuestion.selected?"disabled":""])},(0,n.v_)(e),11,Ve)))),128))])),!o.quizStarted||o.hasAnswered||o.playerFinishedMessage?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:2,onClick:t[1]||(t[1]=(...e)=>o.sendQuestionToTeammate&&o.sendQuestionToTeammate(...e))}," Frage an Mitspieler senden ")),o.hasAnswered?((0,r.uX)(),(0,r.CE)("button",{key:3,onClick:t[2]||(t[2]=(...e)=>o.requestNextQuestion&&o.requestNextQuestion(...e))}," N√§chste Frage ")):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>o.leaveQuiz&&o.leaveQuiz(...e)),class:"leave-button"}," Quiz verlassen "),o.receivedQuestion?((0,r.uX)(),(0,r.CE)("div",He,[(0,r.Lk)("div",Ze,[t[8]||(t[8]=(0,r.Lk)("h2",null,"Du hast eine Frage von deinem Mitspieler erhalten!",-1)),(0,r.Lk)("h3",null,(0,n.v_)(o.receivedQuestion.question),1),(0,r.Lk)("div",Ge,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.receivedQuestion.options,((e,t)=>((0,r.uX)(),(0,r.CE)("button",{key:t,onClick:e=>o.sendReceivedAnswer(t)},(0,n.v_)(e),9,Ye)))),128))])])])):(0,r.Q3)("",!0),o.answerFeedback?((0,r.uX)(),(0,r.CE)("p",et,(0,n.v_)(o.answerFeedback),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),o.gameOver?((0,r.uX)(),(0,r.CE)("div",tt,[t[10]||(t[10]=(0,r.Lk)("h3",null,"Herzlichen Gl√ºckwunsch!",-1)),(0,r.Lk)("p",null,[(0,r.eW)(" Ihr habt das Spiel beendet! Dein Score: "+(0,n.v_)(o.score)+" ",1),t[9]||(t[9]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" Euer gemeinsamer Team-Score: "+(0,n.v_)(o.teamScore),1)]),t[11]||(t[11]=(0,r.Lk)("h2",null,"√úbersicht der dir gestellten Fragen",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.answeredQuestions,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"answered-questions",key:t},[(0,r.Lk)("h3",null,"Frage "+(0,n.v_)(t+1)+": "+(0,n.v_)(e.question),1),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.options,((t,s)=>((0,r.uX)(),(0,r.CE)("li",{key:s,style:(0,n.Tr)({color:s===e.correct?"green":"black",fontWeight:s===e.correct||s===e.selected?"bold":"normal"})},[(0,r.eW)((0,n.v_)(t)+" ",1),s===e.correct?((0,r.uX)(),(0,r.CE)("span",st,"‚úîÔ∏è")):(0,r.Q3)("",!0),s===e.selected&&s!==e.correct?((0,r.uX)(),(0,r.CE)("span",ot,"‚ùå")):(0,r.Q3)("",!0)],4)))),128))])])))),128)),t[12]||(t[12]=(0,r.Lk)("h2",null,"Fragen deines Mitspielers",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.partnerAnsweredQuestions,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"answered-questions",key:"partner-"+t},[(0,r.Lk)("h3",null,"Frage "+(0,n.v_)(t+1)+": "+(0,n.v_)(e.question),1),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.options,((t,s)=>((0,r.uX)(),(0,r.CE)("li",{key:s,style:(0,n.Tr)({color:s===e.correct?"green":"black",fontWeight:s===e.correct||s===e.selected?"bold":"normal"})},[(0,r.eW)((0,n.v_)(t)+" ",1),s===e.correct?((0,r.uX)(),(0,r.CE)("span",rt,"‚úîÔ∏è")):(0,r.Q3)("",!0),s===e.selected&&s!==e.correct?((0,r.uX)(),(0,r.CE)("span",nt,"‚ùå")):(0,r.Q3)("",!0)],4)))),128))])])))),128))])):(0,r.Q3)("",!0)])}s(2577);var it={setup(){const e=(0,V.KR)([]),t=(0,V.KR)(null),s=(0,V.KR)(!1),o=(0,V.KR)(null),r=(0,V.KR)(!1),n=(0,V.KR)({}),a=(0,V.KR)(""),i=(0,V.KR)(0),l=(0,V.KR)(!1),c=(0,V.KR)(0),d=(0,V.KR)(null),p=(0,V.KR)(!1),g=(0,V.KR)([]),h=(0,V.KR)([]),m=(0,V.KR)([]),v=(0,V.KR)(null),k=async()=>{try{const t=await u.A.get("https://quizapplication-production-ff18.up.railway.app/api/categories");e.value=t.data.map((e=>e.category))}catch(t){console.error("Fehler beim Abrufen der Kategorien:",t)}},y=e=>{t.value=e},b=()=>{t.value&&(console.log("Joining lobby for category:",t.value),Ft.emit("joinLobby",{category:t.value}))},f=()=>{s.value=!1,a.value="",Ft.emit("requestNextQuestion",o.value.id)},C=e=>{s.value||(n.value.selected=e,Ft.emit("answerQuestion",{lobbyId:o.value.id,answer:e}),m.value.push({question:n.value.question,options:n.value.options,correct:n.value.correct,selected:e,playerId:Ft.id}),s.value=!0)},w=e=>{d.value&&(Ft.emit("answerQuestion",{lobbyId:o.value.id,answer:e}),d.value=null)};Ft.on("lobbyUpdate",(e=>{o.value=e})),Ft.on("startQuiz",(()=>{r.value=!0,Ft.emit("requestFirstQuestion",o.value.id)})),Ft.on("newQuestion",(e=>{n.value={question:e.question,options:e.options,correct:e.correct},g.value.push(n.value),a.value="",s.value=!1}));const L=()=>{Ft.emit("sendQuestionToTeammate",{lobbyId:o.value.id,question:n.value})};Ft.on("receiveQuestionFromTeammate",(e=>{d.value=e})),Ft.on("answerFeedback",(e=>{a.value=e.message,e.correct&&(i.value+=1)})),Ft.on("playerFinished",(e=>{v.value=e.message})),Ft.on("gameOver",(e=>{l.value=!0,c.value=e.teamScore,E(),p.value=!0;const t=e.answeredQuestions||{},s=Ft.id,o=Object.keys(t).find((e=>e!==s));m.value=t[s]||[],h.value=t[o]||[]}));const E=async()=>{try{const e=sessionStorage.getItem("username");if(!e)return void console.error("Kein Benutzername gefunden");const t=await u.A.put("https://quizapplication-production-ff18.up.railway.app/api/leaderboard",{username:e,score:i.value});console.log("Punktestand gespeichert:",t.data)}catch(e){console.error("Fehler beim Speichern des Punktestands:",e)}};Ft.on("playerLeft",(e=>{r.value=!1,p.value=!0,v.value=e.message,setTimeout((()=>{window.location.href="/home"}),4e3)}));const F=()=>{o.value&&o.value.id&&Ft.emit("playerLeftQuiz",{lobbyId:o.value.id}),r.value=!1,p.value=!0,v.value="Du hast das Quiz verlassen. Du wirst nun zur Startseite weitergeleitet",setTimeout((()=>{window.location.href="/home"}),4e3)};return Ft.on("error",(e=>{v.value=e.message,setTimeout((()=>{v.value=null,window.location.href="/multiplayer"}),2e3)})),k(),{categories:e,selectedCategory:t,hasAnswered:s,lobby:o,quizStarted:r,currentQuestion:n,sendAnswer:C,answerFeedback:a,score:i,teamScore:c,gameOver:l,selectCategory:y,joinLobby:b,sendQuestionToTeammate:L,sendReceivedAnswer:w,receivedQuestion:d,requestNextQuestion:f,quizCompleted:p,askedQuestions:g,answeredQuestions:m,playerFinishedMessage:v,partnerAnsweredQuestions:h,leaveQuiz:F}}};const lt=(0,d.A)(it,[["render",at],["__scopeId","data-v-309f61ff"]]);var ut=lt;const ct={class:"overview buttons"},dt=["onClick"];function pt(e,t,s,o,a,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(l,{to:"/home",class:"exit button"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)("Zur√ºck zum Dashboard")]))),_:1}),t[1]||(t[1]=(0,r.Lk)("p",null," W√§hle eine Kategorie aus um das Quiz zu starten",-1)),(0,r.Lk)("div",ct,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.categories,(e=>((0,r.uX)(),(0,r.CE)("button",{key:e,class:"category",onClick:t=>i.goToQuiz(e)},(0,n.v_)(e),9,dt)))),128))])])}var gt={data(){return{categories:[]}},async mounted(){await this.fetchCategories()},methods:{goToQuiz(e){this.$router.push({name:"quiz",query:{category:e}})},async fetchCategories(){try{const e=await u.A.get("https://quizapplication-production-ff18.up.railway.app/api/categories");this.categories=e.data.map((e=>e.category)),console.log(this.categories)}catch(e){console.error("Fehler beim Abrufen der Kategorien:",e)}}}};const ht=(0,d.A)(gt,[["render",pt],["__scopeId","data-v-0383ba92"]]);var mt=ht;const vt=[{path:"/",name:"login",component:J},{path:"/register",name:"register",component:W},{path:"/home",name:"home",component:A,meta:{requiresAuth:!0}},{path:"/quiz",name:"quiz",component:de,meta:{requiresAuth:!0}},{path:"/categories",name:"categories",component:mt,meta:{requiresAuth:!0}},{path:"/leaderboard",name:"leaderboard",component:me,meta:{requiresAuth:!0}},{path:"/profile",name:"profile",component:be,meta:{requiresAuth:!0}},{path:"/questions",name:"questions",component:Re,meta:{requiresAuth:!0}},{path:"/multiplayer",name:"multiplayer",component:ut,meta:{requiresAuth:!0}}],kt=(0,h.aE)({history:(0,h.LA)("/"),routes:vt});kt.beforeEach(((e,t,s)=>{const o=!!sessionStorage.getItem("token");e.meta.requiresAuth&&!o?s("/"):s()}));var yt=kt,bt=s(782),ft=s(5131);const Ct=()=>({token:"",user:{}});var wt=(0,bt.y$)({strict:!0,plugins:[(0,ft.A)()],state:Ct(),getters:{isLoggedIn:e=>e.token,getUser:e=>e.user},mutations:{SET_TOKEN:(e,t)=>{e.token=t},SET_USER:(e,t)=>{e.user=t},RESET:e=>{Object.assign(e,Ct())}},actions:{login:({commit:e},{token:t,user:s})=>{e("SET_TOKEN",t),e("SET_USER",s),u.A.defaults.headers.common["Authorization"]=`Bearer ${t}`},logout:({commit:e})=>{e("RESET","")}}}),Lt=s(1714);const Et=(0,o.Ef)(g);u.A.defaults.headers.common["Authorization"]=`Bearer ${wt.state.token}`,u.A.defaults.baseURL="https://quizapplication-production-ff18.up.railway.app/api",Et.config.globalProperties.$axios=u.A;const Ft=(0,Lt.io)("https://quizapplication-production-ff18.up.railway.app",{transports:["websocket"],withCredentials:!0});Et.config.globalProperties.$socket=Ft,Et.use(yt),Et.use(wt),Et.mount("#app")}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,o,r,n){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],n=e[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&n||a>=n)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(i=!1,n<a&&(a=n));if(i){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,r,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,n,a=o[0],i=o[1],l=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(l)var c=l(s)}for(t&&t(o);u<a.length;u++)n=a[u],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(7422)}));o=s.O(o)})();
//# sourceMappingURL=app.ea7c4512.js.map